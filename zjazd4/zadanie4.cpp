#include <iostream>
using namespace std;

int main()
{
    int tab[3][3]={0,0,0,0,0,0,0,0,0};
    int x=0,j,i,k=0;

    while(k<9)
    {
        cin >> x;
        i=(x-1)/3;
        j=(x-1)%3;
        if(tab[i][j])
        {
                cout <<0;
                break;
        }
        tab[i][j]=((k++)%2==1)?2:1;
        if((tab[0][0]==1&&tab[1][1]==1&&tab[2][2]==1)||(tab[0][2]==1&&tab[1][1]==1&&tab[2][0]==1)||(tab[0][0]==1&&tab[1][0]==1&&tab[2][0]==1)||(tab[0][1]==1&&tab[1][1]==1&&tab[2][1]==1)||(tab[0][2]==1&&tab[1][2]==1&&tab[2][2]==1)||(tab[0][0]==1&&tab[0][1]==1&&tab[0][2]==1)||(tab[1][0]==1&&tab[1][1]==1&&tab[1][2]==1)||(tab[2][0]==1&&tab[2][1]==1&&tab[2][2]==1))
        {
                cout<<1;
                break;
        
	}
	else if((tab[0][0]==2&&tab[1][1]==2&&tab[2][2]==2)||(tab[0][2]==2&&tab[1][1]==2&&tab[2][0]==2)||(tab[0][0]==2&&tab[1][0]==2&&tab[2][0]==2)||(tab[0][1]==2&&tab[1][1]==2&&tab[2][1]==2)||(tab[0][2]==2&&tab[1][2]==2&&tab[2][2]==2)||(tab[0][0]==2&&tab[0][1]==2&&tab[0][2]==2)||(tab[1][0]==2&&tab[1][1]==2&&tab[1][2]==2)||(tab[2][0]==2&&tab[2][1]==2&&tab[2][2]==2))
        {
                cout<<2;
                break;
        }
    }

    return 0;
}

